$(function(){


  var vname, nname, strasse, plz, ort, email;


  $('#button').click(action);
  $('#input').keypress(function (e) {
  if (e.which == 13) {
    action();
  }
});


  function action() {
    $('#content').find("tr:gt(0)").remove();
    var statement = $('#input').val();
    if (statement == ""){
      $('#content').before('<p style=\"color:red\" id=\"alert\">Bitte einen Wert eingeben...</p>');
    }else{
      $('#alert').remove();
      $.getJSON('http://localhost/jsonl.php?name=' + statement , function(result){
          if(result == null){
            $('#content').before('<p style=\"color:red\" id=\"alert\">Keine Einträge gefunden</p>');
          }else{
            $.each(result, function(i, field){
              vname = field.vorname;
              nname = field.nachname;
              strasse = field.strasse;
              plz = field.plz;
              ort = field.ort;
              email = field.email;
              $('#content tr:last').after('<tr><td>'+vname+'</td><td>'+nname+'</td><td>'+strasse+'</td><td>'+plz+'</td><td>'+ort+'</td><td>'+email+'</td></tr>');
            });
          }
      }).fail(function(jqXHR, textStatus, errorThrown) {
        $('#content').before('<p style=\"color:red\" id=\"alert\">AJAX Fehler: ' + textStatus + '</p>');
      });
    }
  }

});


bei der funktion plusWeek hat es immer als String angeschaut und daher zb beim Jahr wenn 2017 + 1 gerechnet wurde 20171 angezeigt und nicht 2018... dies konnte ich mit parseInt lösen

die globale variabel für selectedWeek hat nicht funktioniert. aus irgendeinem grund ist wenn man in die methode getTable hinein kommt (über den actionlistener) das "this" nicht die
webseite sondern nur den selectbox. daher kann ich mit this.<variabelname> nicht auf meine globalen variabeln zugreiffen. ich hab das gelöst indem ich die woche immer in den button
hineingeschrieben habe und dort wieder ausgelesen, wenn ich ihn brauchte...
